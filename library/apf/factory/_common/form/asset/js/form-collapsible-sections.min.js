/*! Admin Page Framework - Form Collapsible Sections 1.0.1 */
!function(n){n(document).ready(function(){n(this).initializeOnScreenKeyboardAdminPageFrameworkCollapsibleSections()}),n(document).on("on-screen-keyboard_saved_widget",function(e,a){n(a).initializeOnScreenKeyboardAdminPageFrameworkCollapsibleSections()}),n.fn.initializeOnScreenKeyboardAdminPageFrameworkCollapsibleSections=function(){n(this).find('.on-screen-keyboard-collapsible-sections-title[data-is_collapsed="0"]').next(".on-screen-keyboard-collapsible-sections-content").slideDown("fast"),n(this).find('.on-screen-keyboard-collapsible-section-title[data-is_collapsed="0"]').closest(".on-screen-keyboard-section-table").find("tbody").slideDown("fast"),n(this).find('.on-screen-keyboard-collapsible-section-title[data-is_collapsed="1"]').closest(".on-screen-keyboard-section-table").find("tbody").hide(),n(this).find(".on-screen-keyboard-collapsible-sections-title, .on-screen-keyboard-collapsible-section-title").enableOnScreenKeyboardAdminPageFrameworkCollapsibleButton(),n(this).find('.on-screen-keyboard-collapsible-title[data-toggle_all_button!="0"]').each(function(){var t=n(this),l=n(this).hasClass("on-screen-keyboard-collapsible-sections-title"),e=n(this).data("toggle_all_button"),e="string"==typeof(e=1===e?"top-right":e)?e.split(","):["top-right"],o=function(){var e=0<=n.fn.compareVersionNumbers(OnScreenKeyboardAdminPageFrameworkScriptFormMain.wpVersion,"3.8")?"dashicons dashicons-sort":"",a=e?"":OnScreenKeyboardAdminPageFrameworkScriptFormMain.messages.toggleAll,i=n('<span class="on-screen-keyboard-collapsible-toggle-all-button button"></span>');i.addClass(e),i.attr("title",OnScreenKeyboardAdminPageFrameworkScriptFormMain.messages.toggleAllCollapsibleSections),i.text(a);a=n('<div class="on-screen-keyboard-collapsible-toggle-all-button-container"></div>');return a.append(i),a}();n.each(e,function(e,a){var i=-1!==jQuery.inArray(a,["top-right","bottom-right","0"])?"right":"left";o.find(".on-screen-keyboard-collapsible-toggle-all-button").css("float",i);a=-1!==jQuery.inArray(a,["top-right","top-left","0"])?"before":"after";(l?"before"==a?t:t.next(".on-screen-keyboard-collapsible-content"):t.closest(".on-screen-keyboard-section"))[a](o),n(o).off("click"),o.on("click",function(){(l?n(this).closest(".on-screen-keyboard-sectionset").siblings().addBack().find("> .on-screen-keyboard-collapsible-toggle-all-button-container"):n(this).siblings(".on-screen-keyboard-collapsible-toggle-all-button-container").addBack()).toggleClass("flipped"),(l?o.parent().parent().children().children("* > .on-screen-keyboard-collapsible-title"):o.closest(".on-screen-keyboard-sections").children(".on-screen-keyboard-section").children(".on-screen-keyboard-section-table").children("caption").children(".on-screen-keyboard-collapsible-title")).each(function(){n(this).trigger("click",["by_toggle_all_button"])})})})})},n.fn.enableOnScreenKeyboardAdminPageFrameworkCollapsibleButton=function(){n(this).off("click"),n(this).on("click",function(e,a){if(function(e){if(!n(e).hasClass("on-screen-keyboard-collapsible-button")){e=n(e).prop("tagName").toLowerCase();return-1!==jQuery.inArray(e,["input","label","fieldset","span"])}}(e.target))return!0;var i=n(this),t=n(this).hasClass("on-screen-keyboard-collapsible-sections-title")?"sections":"section",l="sections"==t?n(this).next(".on-screen-keyboard-collapsible-content").first():n(this).parent().siblings("tbody"),o=l.is(":visible")?"collapse":"expand";i.removeClass("collapsed"),l.slideToggle("fast",function(){var e=-1<navigator.userAgent.toLowerCase().indexOf("chrome");"expand"!=o||"section"!=t||e||l.css("display","block"),l.is(":visible")?i.removeClass("collapsed"):i.addClass("collapsed")}),"by_toggle_all_button"!==a&&"expand"==o&&i.data("collapse_others_on_expand")&&i.parent().parent().children().children("* > .on-screen-keyboard-collapsible-content").not(l).slideUp("fast",function(){n(this).prev(".on-screen-keyboard-collapsible-title").addClass("collapsed")})})}}(jQuery);